"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),s=require("@vue-flow/core"),_={name:"NodeToolbar",inheritAttrs:!1},w=e.defineComponent({..._,props:{nodeId:null,isVisible:{type:Boolean},position:{default:s.Position.Top},offset:{default:10}},setup(p){const l=p,h=e.inject(s.NodeIdInjection,null),{viewportRef:v,viewport:y,getSelectedNodes:b,findNode:g}=s.useVueFlow();function m(o,t,c,i){let a=(o.x+o.width/2)*t.zoom+t.x,u=o.y*t.zoom+t.y-i,r=-50,d=-100;switch(c){case s.Position.Right:a=(o.x+o.width)*t.zoom+t.x+i,u=(o.y+o.height/2)*t.zoom+t.y,r=0,d=-50;break;case s.Position.Bottom:u=(o.y+o.height)*t.zoom+t.y+i,d=0;break;case s.Position.Left:a=o.x*t.zoom+t.x-i,u=(o.y+o.height/2)*t.zoom+t.y,r=-100,d=-50;break}return`translate(${a}px, ${u}px) translate(${r}%, ${d}%)`}const n=e.computed(()=>(Array.isArray(l.nodeId)?l.nodeId:[l.nodeId||h||""]).reduce((t,c)=>{const i=g(c);return i&&t.push(i),t},[])),x=e.computed(()=>typeof l.isVisible=="boolean"?l.isVisible:n.value.length===1&&n.value[0].selected&&b.value.length===1),I=e.computed(()=>s.getRectOfNodes(n.value)),f=e.computed(()=>Math.max(...n.value.map(o=>(o.computedPosition.z||1)+1))),z=e.computed(()=>({position:"absolute",transform:m(I.value,y.value,l.position,l.offset),zIndex:f.value}));return(o,t)=>(e.openBlock(),e.createBlock(e.Teleport,{to:e.unref(v)},[e.unref(x)&&e.unref(n).length?(e.openBlock(),e.createElementBlock("div",e.mergeProps({key:0},o.$attrs,{style:e.unref(z),class:"vue-flow__node-toolbar"}),[e.renderSlot(o.$slots,"default")],16)):e.createCommentVNode("",!0)],8,["to"]))}});exports.NodeToolbar=w;
